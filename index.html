<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Button ripple</title>
    <link rel="stylesheet" href="./css/style.css"> <!-- Link to external CSS file -->
</head>

<body>
    <div class="container">
        <h1 id="pertanyaan">Tekan start untuk memulai!</h1>
        <input type="text" id="jawaban" placeholder="masukkan jawaban anda"/>
        <button id="btn">Start</button>
    </div>
    
    
    <script type="text/javascript" charset="utf-8">
        const btn = document.getElementById('btn')
        
        btn.addEventListener('click', (e) => {
            const rect = btn.getBoundingClientRect()
            
            const x = e.clientX - rect.left
            const y = e.clientY - rect.top
            console.log('btn diklik')
            const ripples = document.createElement('span')
            ripples.style.left = `${x}px`
            ripples.style.top = `${y}px`
            btn.appendChild(ripples)
            
            setTimeout(() => {
                ripples.remove()
                if (init < 5) {
                    botStart()
                }else {
                    window.location.reload()
                }
            }, 1000)
            
        })
        
        const pertanyaan = document.getElementById('pertanyaan')
        const jawaban = document.getElementById('jawaban')
        
        let init = 0
        let data = {} // Inisialisasi objek data
        
        const botSay = (data) => {
            return [
                'Tekan start untuk memulai!',
                `Siapa nama anonim anda?`,
                `Hai ${data.nama}, berapa usiamu sekarang?`,
                `Ohh ${data.usia}, di usia segitu hobinya apa?`,
                `Wah, hobiku juga ${data.hobi}, rating bot ini coba (1-5)`,
                `Wah ${data.nilai}, terimakasih sudah mencoba bot ini`
            ]
        }
        
        pertanyaan.innerHTML = botSay({})[0] // Inisialisasi pertama
        
        const botStart = () => {
            init++
            if (init === 1) {
                jawaban.style.display = 'block'
                setTimeout(() => {
                    btn.textContent = 'Kirim'
                }, 500)
                botDelay({ nama: jawaban.value })
            } else if (init === 2) {
                data.nama = jawaban.value // Simpan jawaban
                botDelay(data)
            } else if (init === 3) {
                data.usia = jawaban.value // Simpan jawaban
                botDelay(data)
            } else if (init === 4) {
                data.hobi = jawaban.value // Simpan jawaban
                botDelay(data)
            } else if (init === 5) {
                data.nilai = jawaban.value // Simpan jawaban
                botDelay(data)
                jawaban.style.display = 'none'
                setTimeout(() => {
                    btn.textContent = 'Akhiri'
                },500)
            }
        }
        
        function botDelay(JawabanUser) {
                pertanyaan.textContent = botSay(JawabanUser)[init]
                jawaban.value = ''
        }
        
    </script>
</body>

</html>
